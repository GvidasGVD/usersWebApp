{"version":3,"sources":["components/users/NewUserForm.module.css","components/layout/MainNavigation.module.css","components/users/UserList.module.css","components/users/UserItem.module.css","components/users/NoUserFound.module.css","components/ui/Card.module.css","components/layout/Layout.module.css","components/users/UserItem.js","components/users/UserList.js","hooks/use-http.js","api/userApi.js","components/users/NoUserFound.js","pages/AllUsers.js","components/ui/Card.js","validations/FormDataValidation.js","components/users/NewUserForm.js","pages/NewUser.js","components/users/UserDetails.js","pages/UserDetail.js","components/layout/MainNavigation.js","components/layout/Layout.js","pages/NotFound.js","App.js","index.js","components/users/UserDetails.module.css"],"names":["module","exports","UserItem","props","className","classes","item","name","surname","phone","email","to","id","UserList","users","ascending","history","useHistory","location","useLocation","isSortingAscending","URLSearchParams","search","get","sortedUsers","sort","userA","userB","sorting","onClick","push","pathname","list","map","user","httpReducer","state","action","type","data","error","status","responseData","errorMessage","useHttp","requestFunction","startWithPending","useReducer","httpState","dispatch","sendRequest","useCallback","requestData","a","requestId","message","FIREBASE_DOMAIN","getAllUsers","fetch","response","json","ok","Error","key","transformedUsers","userObj","getSingleUser","userId","loadedUser","addUser","userData","method","body","JSON","stringify","headers","deleteUser","updateUser","NoUserFound","nousers","AllUsers","loadedUsers","useEffect","length","Card","card","children","regexOnlyLetters","regexEmail","validateUserData","birth_date","password","identity","passport_number","validation","title","isValid","validateOnlyLetters","inputData","test","trim","Date","validateEmail","NewUserForm","nameInputRef","useRef","surnameInputRef","birthdateInputRef","emailInputRef","passwordInputRef","phoneInputRef","identityInputRef","passportnumberInputRef","useState","setError","submitHandler","event","preventDefault","enteredName","current","value","enteredSurname","enteredBirthdate","enteredEmail","enteredPassword","enteredPhone","enteredIdentity","enteredPassportnumber","errorTitle","onAddUser","error_box","error_title","error_message","form","onSubmit","control","htmlFor","required","ref","defaultValue","actions","NewUser","UserDetails","editing","setEditing","sendtDeleteRequest","deleteStatus","editToggleUserHandler","submitEditingHandler","sendUpdateRequest","usersNameInput","placeholder","usersSurnameInput","usersNameInBirthDateput","usersEmailInput","usersPasswordInput","usersPhoneInput","usersIdentityInput","usersPassportNoInput","details","flex","btnField","detailsBtn","confirmAlert","buttons","label","UserDetail","params","useParams","sendtUpdateRequest","updateStatus","MainNavigation","header","logo","linkToGit","href","target","rel","nav","activeClassName","active","Layout","main","NotFound","App","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d89c0915.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NewUserForm_form__PCaTH\",\"control\":\"NewUserForm_control__35j2s\",\"actions\":\"NewUserForm_actions__2LZx0\",\"error_box\":\"NewUserForm_error_box__3U1Kp\",\"error_title\":\"NewUserForm_error_title__1sIbE\",\"error_message\":\"NewUserForm_error_message__1QPbr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__9Wrod\",\"logo\":\"MainNavigation_logo__23HYm\",\"nav\":\"MainNavigation_nav__19LmH\",\"active\":\"MainNavigation_active__tSAdF\",\"linkToGit\":\"MainNavigation_linkToGit__3JHsx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"UserList_list__1YjXN\",\"sorting\":\"UserList_sorting__w9p22\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"UserItem_item__38Vzn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nousers\":\"NoUserFound_nousers__2PhQ8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3ONz9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Layout_main__9Ppdw\"};","import React from \"react\";\r\nimport classes from \"./UserItem.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst UserItem = (props) => {\r\n\r\n\r\n  return (\r\n    <li className={classes.item}>\r\n      <figure>\r\n        <blockquote>\r\n          <p>{props.name}</p>\r\n          <p>{props.surname}</p>\r\n        </blockquote>\r\n        <figcaption>Tel.: {props.phone}</figcaption>\r\n        <figcaption>Email: {props.email}</figcaption>\r\n      </figure>\r\n      <Link className=\"btn users_details_btn\" to={`/usersWebApp/users/${props.id}`}>\r\n        View Details\r\n      </Link>\r\n\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default UserItem;\r\n","import { Fragment } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport UserItem from \"./UserItem\";\r\nimport classes from \"./UserList.module.css\";\r\nconst sortUsers = (users, ascending) => {\r\n  return users.sort((userA, userB) => {\r\n    if(ascending) {\r\n      return userA.name > userB.name ? 1: -1;\r\n    } else {\r\n      return userA.name < userB.name ? 1: -1;\r\n    }\r\n  })\r\n}\r\n\r\nconst UserList = (props) => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const queryParams = new URLSearchParams(location.search);\r\n\r\n  const isSortingAscending = queryParams.get(\"sort\") === \"asc\";\r\n\r\n  const sortedUsers = sortUsers(props.users, isSortingAscending)\r\n\r\n\r\n  const changeSortingHandler = () => {\r\n    history.push({\r\n      pathname: location.pathname,\r\n      search: `?sort=${(isSortingAscending?'desc':'asc')}`\r\n    })\r\n    // less readable:\r\n    // history.push(`${location.pathname}?sort=${(isSortingAscending?'desc':'asc')}`);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className={classes.sorting}>\r\n        <button onClick={changeSortingHandler}>\r\n          Sort {isSortingAscending ? \"Descending\" : \"Ascending\"}\r\n        </button>\r\n      </div>\r\n      <ul className={classes.list}>\r\n        {sortedUsers.map((user) => (\r\n          <UserItem\r\n            key={user.id}\r\n            id={user.id}\r\n            name={user.name}\r\n            surname={user.surname}\r\n            phone={user.phone}\r\n            email={user.email}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n","import { useReducer, useCallback } from 'react';\r\n\r\nfunction httpReducer(state, action) {\r\n  if (action.type === 'SEND') {\r\n    return {\r\n      data: null,\r\n      error: null,\r\n      status: 'pending',\r\n    };\r\n  }\r\n\r\n  if (action.type === 'SUCCESS') {\r\n    return {\r\n      data: action.responseData,\r\n      error: null,\r\n      status: 'completed',\r\n    };\r\n  }\r\n\r\n  if (action.type === 'ERROR') {\r\n    return {\r\n      data: null,\r\n      error: action.errorMessage,\r\n      status: 'completed',\r\n    };\r\n  }\r\n\r\n  return state;\r\n}\r\n\r\nfunction useHttp(requestFunction, startWithPending = false) {\r\n  const [httpState, dispatch] = useReducer(httpReducer, {\r\n    status: startWithPending ? 'pending' : null,\r\n    data: null,\r\n    error: null,\r\n  });\r\n\r\n  const sendRequest = useCallback(\r\n    async function (requestData, requestId = null) {\r\n      dispatch({ type: 'SEND' });\r\n      try {\r\n        const responseData = await requestFunction(requestData, requestId);\r\n        dispatch({ type: 'SUCCESS', responseData });\r\n      } catch (error) {\r\n        dispatch({\r\n          type: 'ERROR',\r\n          errorMessage: error.message || 'Something went wrong!',\r\n        });\r\n      }\r\n    },\r\n    [requestFunction]\r\n  );\r\n\r\n  return {\r\n    sendRequest,\r\n    ...httpState,\r\n  };\r\n}\r\n\r\nexport default useHttp;\r\n","// TODO: your api calls should be here\r\nconst FIREBASE_DOMAIN =\r\n  \"https://users-db-2791b-default-rtdb.europe-west1.firebasedatabase.app/\";\r\n\r\nexport async function getAllUsers() {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/users.json`);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch users.\");\r\n  }\r\n\r\n  const transformedUsers = [];\r\n\r\n  for (const key in data) {\r\n    const userObj = {\r\n      id: key,\r\n      ...data[key],\r\n    };\r\n\r\n    transformedUsers.push(userObj);\r\n  }\r\n\r\n  return transformedUsers;\r\n}\r\n\r\nexport async function getSingleUser(userId) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/users/${userId}.json`);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch user.\");\r\n  }\r\n\r\n  const loadedUser = {\r\n    id: userId,\r\n    ...data,\r\n  };\r\n\r\n  return loadedUser;\r\n}\r\n\r\nexport async function addUser(userData) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/users.json`, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(userData),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not create user.\");\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport async function deleteUser(userId) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/users/${userId}.json`, {\r\n    method: \"DELETE\",\r\n  });\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not delete user.\");\r\n  }\r\n\r\nreturn null\r\n}\r\n\r\nexport async function updateUser(userData, userId) {\r\n    const response = await fetch(`${FIREBASE_DOMAIN}/users/${userId}.json`, {\r\n      method: \"PUT\",\r\n      headers:{\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(userData)\r\n    });\r\n    const data = await response.json();\r\n  \r\n    if (!response.ok) {\r\n      throw new Error(data.message || \"Could not update user.\");\r\n    }\r\n    \r\n  \r\n  return null\r\n  }\r\n","import classes from './NoUserFound.module.css';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst NoUserFound = () => {\r\n  return (\r\n    <div className={classes.nousers}>\r\n      <p>No users found!</p>\r\n      <Link className='btn' to='/usersWebApp/new-user'>\r\n        Add New User\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoUserFound;\r\n","import React, { useEffect } from \"react\";\r\nimport UserList from \"../components/users/UserList\";\r\nimport useHttp from \"../hooks/use-http\";\r\nimport { getAllUsers } from \"../api/userApi\";\r\nimport NoUsersFound from \"../components/users/NoUserFound\";\r\n\r\nconst AllUsers = () => {\r\n  const {\r\n    sendRequest,\r\n    status,\r\n    data: loadedUsers,\r\n    error,\r\n  } = useHttp(getAllUsers, true);\r\n\r\n  useEffect(() => {\r\n    sendRequest();\r\n  }, [sendRequest]);\r\n\r\n  if (status === \"pending\") {\r\n    return <div className=\"centered\"> Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p className=\"centered focused\">{error}</p>;\r\n  }\r\n  if (status === \"completed\" && (!loadedUsers || loadedUsers.length === 0)) {\r\n    return <NoUsersFound />;\r\n  }\r\n  return (\r\n      <UserList users={loadedUsers} />\r\n  );\r\n};\r\n\r\nexport default AllUsers;\r\n","import classes from './Card.module.css';\r\n\r\nfunction Card(props) {\r\n  return <div className={classes.card}>{props.children}</div>;\r\n}\r\n\r\nexport default Card;\r\n","\r\n  const regexOnlyLetters = /^[a-zA-Z]{2,20}$/;\r\n  const regexEmail = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nexport function validateUserData(userData) {\r\n  const {\r\n    name,\r\n    surname,\r\n    birth_date,\r\n    email,\r\n    password,\r\n    phone,\r\n    identity,\r\n    passport_number,\r\n  } = userData;\r\n  var validation = { title: \"\", message: \"\", isValid: true };\r\n\r\n  const validateOnlyLetters = (inputData) => {\r\n    return regexOnlyLetters.test(inputData)\r\n  };\r\n  if (\r\n    name.trim().length === 0 ||\r\n    surname.trim().length === 0 ||\r\n    birth_date.trim().length === 0 ||\r\n    email.trim().length === 0 ||\r\n    password.trim().length === 0 ||\r\n    phone.trim().length === 0 ||\r\n    identity.trim().length === 0 ||\r\n    passport_number.trim().length === 0\r\n  ) {\r\n    validation = {\r\n      title: \"Invalid input\",\r\n      message: \"Cannot insert empty values.\",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (name.length < 2 || name.length > 20 || !validateOnlyLetters(name)) {\r\n    validation = {\r\n      title: \"Invalid Name\",\r\n      message:\r\n        \"Name should be at least 2 symbols and not more than 20 symbols. Only letters allowed\",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (surname.length < 2 || surname.length > 20 || !validateOnlyLetters(surname)) {\r\n    validation = {\r\n      title: \"Invalid Surname\",\r\n      message:\r\n        \"Surname should be at least 2 symbols and not more than 20 symbols. Only letters allowed\",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (password.length < 6 || password.length > 15) {\r\n    validation = {\r\n      title: \"Invalid Password\",\r\n      message: \"Should be at least 6 symbols but not more than 15 symbols\",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (phone.length < 5 || phone.length > 13) {\r\n    validation = {\r\n      title: \"Invalid Phone number\",\r\n      message: \"Should be at least 5 but not more than 13 digits \",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (identity !== \"ID\" && identity !== \"Passport\") {\r\n    validation = {\r\n      title: \"Identity error\",\r\n      message: \"Only ID or Passport can be chosen \",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (passport_number.length < 5 || passport_number.length > 9) {\r\n    validation = {\r\n      title: \"Invalid Passport number\",\r\n      message: \"Should be at least 5 but not more than 9 digits \",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  if (new Date(birth_date) > new Date()) {\r\n    validation = {\r\n      title: \"Invalid Date of Birth\",\r\n      message: \"Please insert valid date of birth\",\r\n      isValid: false,\r\n    };\r\n  }\r\n  const validateEmail = (email) => {\r\n    return regexEmail.test(email);\r\n  };\r\n  if (!validateEmail(email) || email.length > 50) {\r\n    validation = {\r\n      title: \"Invalid Email format\",\r\n      message: \"Please check if email format is correct\",\r\n      isValid: false,\r\n    };\r\n  }\r\n\r\n  return validation;\r\n}\r\n","import { useRef, useState } from \"react\";\r\n// import { userSchema } from \"../../validations/UserValidation\";\r\nimport Card from \"../ui/Card\";\r\nimport classes from \"./NewUserForm.module.css\";\r\nimport { validateUserData } from \"../../validations/FormDataValidation\";\r\n\r\nconst NewUserForm = (props) => {\r\n  const nameInputRef = useRef();\r\n  const surnameInputRef = useRef();\r\n  const birthdateInputRef = useRef();\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n  const phoneInputRef = useRef();\r\n  const identityInputRef = useRef();\r\n  const passportnumberInputRef = useRef();\r\n  const [error, setError] = useState();\r\n\r\n  const submitHandler = async (event) => {\r\n    event.preventDefault();\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredSurname = surnameInputRef.current.value;\r\n    const enteredBirthdate = birthdateInputRef.current.value;\r\n    const enteredEmail = emailInputRef.current.value;\r\n    const enteredPassword = passwordInputRef.current.value;\r\n    const enteredPhone = phoneInputRef.current.value;\r\n    const enteredIdentity = identityInputRef.current.value;\r\n    const enteredPassportnumber = passportnumberInputRef.current.value;\r\n\r\n    const userData = {\r\n      name: enteredName,\r\n      surname: enteredSurname,\r\n      birth_date: enteredBirthdate,\r\n      email: enteredEmail,\r\n      password: enteredPassword,\r\n      phone: enteredPhone,\r\n      identity: enteredIdentity,\r\n      passport_number: enteredPassportnumber,\r\n    };\r\n\r\n    const {\r\n      isValid,\r\n      title: errorTitle,\r\n      message: errorMessage,\r\n    } = validateUserData(userData);\r\n\r\n    if (!isValid) {\r\n      setError({\r\n        title: errorTitle,\r\n        message: errorMessage,\r\n      });\r\n      return;\r\n    } else {\r\n      props.onAddUser(userData);\r\n    }\r\n\r\n    // const isValid = await userSchema.isValid(userData);\r\n    // if (isValid) {\r\n    //   props.onAddUser(userData);\r\n    // } else {\r\n    //   alert(\"Could not create, wrong values inserted\");\r\n    // }\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      {error && (\r\n        <div className={classes.error_box}>\r\n          {\" \"}\r\n          <div className={classes.error_title}>{error.title}</div>\r\n          <div className={classes.error_message}>{error.message}</div>\r\n        </div>\r\n      )}\r\n\r\n      <form className={classes.form} onSubmit={submitHandler}>\r\n        <div className={classes.control}>\r\n          <div className=\"w-50\">\r\n            <label htmlFor=\"Name\">Name</label>\r\n            <input type=\"text\" required id=\"Name\" ref={nameInputRef} />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"Surname\">Surname</label>\r\n            <input type=\"text\" required id=\"Surname\" ref={surnameInputRef} />\r\n          </div>\r\n        </div>\r\n        <div className={classes.control}>\r\n          <div>\r\n            <label htmlFor=\"birthdate\">Birth Date</label>\r\n            <input\r\n              type=\"date\"\r\n              required\r\n              id=\"birthdate\"\r\n              ref={birthdateInputRef}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input id=\"email\" type=\"email\" required ref={emailInputRef}></input>\r\n          </div>\r\n        </div>\r\n        <div className={classes.control}>\r\n          <div>\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input\r\n              id=\"password\"\r\n              type=\"password\"\r\n              required\r\n              ref={passwordInputRef}\r\n            ></input>\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"phone\">Phone</label>\r\n            <input\r\n              id=\"phone\"\r\n              type=\"number\"\r\n              required\r\n              ref={phoneInputRef}\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className={classes.control}>\r\n          <div>\r\n            <label htmlFor=\"identity\">Identity</label>\r\n            <select id=\"identity\" ref={identityInputRef} required>\r\n              <option value=\"ID\" defaultValue>\r\n                ID\r\n              </option>\r\n              <option value=\"Passport\">Passport</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"passportnumber\">Passport Number</label>\r\n            <input\r\n              id=\"passportnumber\"\r\n              type=\"number\"\r\n              required\r\n              ref={passportnumberInputRef}\r\n            ></input>\r\n          </div>\r\n        </div>\r\n        <div className={classes.actions}>\r\n          <button>Add User</button>\r\n        </div>\r\n      </form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default NewUserForm;\r\n","import { useHistory } from 'react-router-dom';\r\nimport React, { useEffect} from 'react'\r\nimport NewUserForm from '../components/users/NewUserForm';\r\nimport useHttp from '../hooks/use-http';\r\nimport { addUser } from '../api/userApi';\r\n\r\nconst NewUser = () => {\r\n    const { sendRequest, status} = useHttp(addUser);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if(status === 'completed') {\r\n            history.push('/usersWebApp/users')\r\n        }\r\n    }, [status, history])\r\n\r\n    const addUserHandler = userData => {\r\n        sendRequest(userData)\r\n    }\r\n    return (\r\n       <NewUserForm onAddUser ={addUserHandler} />\r\n    )\r\n}\r\n\r\nexport default NewUser\r\n","import classes from \"./UserDetails.module.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport useHttp from \"../../hooks/use-http\";\r\nimport { deleteUser } from \"../../api/userApi\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\r\n// import { userSchema } from \"../../validations/UserValidation\";\r\nimport { validateUserData } from \"../../validations/FormDataValidation\";\r\n\r\nconst UserDetails = (props) => {\r\n  const history = useHistory();\r\n  const [editing, setEditing] = useState(false);\r\n  const { sendRequest: sendtDeleteRequest, status: deleteStatus } = useHttp(\r\n    deleteUser,\r\n    true\r\n  );\r\n  const [error, setError] = useState();\r\n\r\n  const nameInputRef = useRef();\r\n  const surnameInputRef = useRef();\r\n  const birthdateInputRef = useRef();\r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef();\r\n  const phoneInputRef = useRef();\r\n  const identityInputRef = useRef();\r\n  const passportnumberInputRef = useRef();\r\n  const deleteUserHandler = () => {\r\n    confirmAlert({\r\n      title: \"Delete this user?\",\r\n      message: \"\",\r\n      buttons: [\r\n        {\r\n          label: \"Yes\",\r\n          onClick: () => sendtDeleteRequest(props.id),\r\n        },\r\n        {\r\n          label: \"No\",\r\n          onClick: () => \"\",\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (deleteStatus === \"completed\") {\r\n      history.push(\"/usersWebApp/users\");\r\n    }\r\n  }, [deleteStatus, history]);\r\n\r\n  const editToggleUserHandler = () => {\r\n    setEditing(!editing);\r\n  };\r\n\r\n  const submitEditingHandler = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredName = nameInputRef.current.value\r\n      ? nameInputRef.current.value\r\n      : props.name;\r\n    const enteredSurname = surnameInputRef.current.value\r\n      ? surnameInputRef.current.value\r\n      : props.surname;\r\n    const enteredBirthdate = birthdateInputRef.current.value\r\n      ? birthdateInputRef.current.value\r\n      : props.birth_date;\r\n    const enteredEmail = emailInputRef.current.value\r\n      ? emailInputRef.current.value\r\n      : props.email;\r\n    const enteredPassword = passwordInputRef.current.value\r\n      ? passwordInputRef.current.value\r\n      : props.password;\r\n    const enteredPhone = phoneInputRef.current.value\r\n      ? phoneInputRef.current.value\r\n      : props.phone;\r\n    const enteredIdentity = identityInputRef.current.value\r\n      ? identityInputRef.current.value\r\n      : props.identity;\r\n    const enteredPassportnumber = passportnumberInputRef.current.value\r\n      ? passportnumberInputRef.current.value\r\n      : props.passport_number;\r\n\r\n    const userData = {\r\n      name: enteredName,\r\n      surname: enteredSurname,\r\n      birth_date: enteredBirthdate,\r\n      email: enteredEmail,\r\n      password: enteredPassword,\r\n      phone: enteredPhone,\r\n      identity: enteredIdentity,\r\n      passport_number: enteredPassportnumber,\r\n    };\r\n    editToggleUserHandler();\r\n    const {\r\n      isValid,\r\n      title: errorTitle,\r\n      message: errorMessage,\r\n    } = validateUserData(userData);\r\n\r\n    if (!isValid) {\r\n      setError({\r\n        title: errorTitle,\r\n        message: errorMessage,\r\n      });\r\n      return;\r\n    } else {\r\n      props.sendUpdateRequest(userData, props.id);\r\n    }\r\n\r\n    // const isValid = await userSchema.isValid(userData);\r\n    // if (isValid) {\r\n    //   props.sendUpdateRequest(userData, props.id);\r\n    // } else {\r\n    //   alert(\"Could not update, wrong values inserted\");\r\n    // }\r\n  };\r\n\r\n  const usersNameInput = (\r\n    <input type=\"text\" placeholder={props.name} ref={nameInputRef} />\r\n  );\r\n  const usersSurnameInput = (\r\n    <input type=\"text\" placeholder={props.surname} ref={surnameInputRef} />\r\n  );\r\n  const usersNameInBirthDateput = <input type=\"date\" ref={birthdateInputRef} />;\r\n  const usersEmailInput = (\r\n    <input type=\"email\" placeholder={props.email} ref={emailInputRef} />\r\n  );\r\n  const usersPasswordInput = (\r\n    <input type=\"password\" placeholder=\"******\" ref={passwordInputRef} />\r\n  );\r\n  const usersPhoneInput = (\r\n    <input type=\"number\" placeholder={props.phone} ref={phoneInputRef} />\r\n  );\r\n  const usersIdentityInput = (\r\n    // <input placeholder={props.identity} ref={identityInputRef} />\r\n    <select id=\"identity\" ref={identityInputRef}>\r\n              <option value=\"ID\">\r\n                ID\r\n              </option>\r\n              <option value=\"Passport\">Passport</option>\r\n            </select>\r\n  );\r\n  const usersPassportNoInput = (\r\n    <input\r\n      type=\"number\"\r\n      placeholder={props.passport_number}\r\n      ref={passportnumberInputRef}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <div className={classes.details}>\r\n      {error && (\r\n        <div className={classes.error_box}>\r\n          {\" \"}\r\n          <div className={classes.error_title}>{error.title}</div>\r\n          <div className={classes.error_message}>{error.message}</div>\r\n        </div>\r\n      )}\r\n      <div className={classes.flex}>\r\n        <p>Name: </p>\r\n        <p>{!editing ? props.name : usersNameInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Surname: </p>\r\n        <p>{!editing ? props.surname : usersSurnameInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Date of Birth: </p>\r\n        <p>{!editing ? props.birth_date : usersNameInBirthDateput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Email: </p>\r\n        <p>{!editing ? props.email : usersEmailInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Password: </p>\r\n        <p>{!editing ? \"*****\" : usersPasswordInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Phone: </p>\r\n        <p>{!editing ? props.phone : usersPhoneInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Identity: </p>\r\n        <p>{!editing ? props.identity : usersIdentityInput}</p>\r\n      </div>\r\n      <div className={classes.flex}>\r\n        <p>Passport No: </p>\r\n        <p>{!editing ? props.passport_number : usersPassportNoInput}</p>\r\n      </div>\r\n      <div className={classes.btnField}>\r\n        <Link className={`btn ${classes.detailsBtn}`} to={\"/usersWebApp/users\"}>\r\n          Back\r\n        </Link>\r\n        <button\r\n          className={`btn ${classes.detailsBtn}`}\r\n          onClick={editToggleUserHandler}\r\n        >\r\n          {!editing ? \"Edit\" : \"Cancel editing\"}\r\n        </button>\r\n        {editing && (\r\n          <button\r\n            className={`btn ${classes.detailsBtn}`}\r\n            onClick={submitEditingHandler}\r\n          >\r\n            Save\r\n          </button>\r\n        )}\r\n        <button\r\n          className={`btn ${classes.detailsBtn}`}\r\n          onClick={deleteUserHandler}\r\n        >\r\n          Delete User\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserDetails;\r\n","import { Fragment, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport useHttp from \"../hooks/use-http\";\r\nimport { getSingleUser, updateUser } from \"../api/userApi\";\r\nimport UserDetails from \"../components/users/UserDetails\";\r\n\r\n\r\nconst UserDetail = () => {\r\n  const params = useParams();\r\n  const { sendRequest: sendtUpdateRequest, status: updateStatus } = useHttp(updateUser, true);\r\n\r\n  const { userId } = params;\r\n  const {\r\n    sendRequest,\r\n    status,\r\n    data: loadedUser,\r\n    error,\r\n  } = useHttp(getSingleUser, true);\r\n\r\n  useEffect(() => {\r\n      sendRequest(userId);\r\n\r\n  }, [sendRequest,updateStatus, userId]);\r\n\r\n  const sendtUpdateRequestHandler = (data, userId) => {\r\n    sendtUpdateRequest(data, userId);\r\n  }\r\n\r\n  if (status === \"pending\") {\r\n    return <div className=\"centered\"> Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p className=\"centered focused\">{error}</p>;\r\n  }\r\n\r\n  if (!loadedUser) {\r\n    return <p>No User found</p>;\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <UserDetails\r\n        id={userId}\r\n        name={loadedUser.name}\r\n        surname={loadedUser.surname}\r\n        birth_date={loadedUser.birth_date}\r\n        email={loadedUser.email}\r\n        password={loadedUser.password}\r\n        phone={loadedUser.phone}\r\n        identity={loadedUser.identity}\r\n        passport_number={loadedUser.passport_number}\r\n        sendUpdateRequest={sendtUpdateRequestHandler}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UserDetail;\r\n","import React from \"react\";\r\nimport classes from \"./MainNavigation.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst MainNavigation = () => {\r\n  return (\r\n    <header className={classes.header}>\r\n      <div className={classes.logo}>\r\n        Users Web App\r\n        <a\r\n        className={classes.linkToGit}\r\n          href=\"https://github.com/GvidasGVD/usersWebApp/tree/master/src\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          See code in GitHub\r\n        </a>\r\n      </div>\r\n      <nav className={classes.nav}>\r\n        <ul>\r\n          <li>\r\n            <NavLink to=\"/usersWebApp/users\" activeClassName={classes.active}>\r\n              All Users\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink to=\"/usersWebApp/new-user\" activeClassName={classes.active}>\r\n              Add New User\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default MainNavigation;\r\n","import { Fragment} from 'react'\r\nimport classes from './Layout.module.css';\r\nimport MainNavigation from './MainNavigation';\r\n\r\nconst Layout = (props) => {\r\n    return (\r\n        <Fragment>\r\n            <MainNavigation />\r\n            <main className={classes.main}>{props.children}</main>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Layout\r\n","import React from 'react'\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className='centered'>\r\n            <p>Page not found!</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import { Route, Switch, Redirect } from \"react-router-dom\";\nimport AllUsers from \"./pages/AllUsers\";\nimport NewUser from \"./pages/NewUser\";\nimport UserDetail from \"./pages/UserDetail\";\nimport Layout from \"./components/layout/Layout\";\nimport NotFound from \"./pages/NotFound\";\n\nfunction App() {\n  return (\n    <Layout>\n      <Switch>\n        <Route path=\"/usersWebApp/users\" exact>\n          <Redirect to=\"/usersWebApp\" />\n        </Route>\n        <Route path=\"/usersWebApp\" exact>\n          <AllUsers />\n        </Route>\n        <Route path=\"/usersWebApp/users/:userId\">\n          <UserDetail />\n        </Route>\n        <Route path=\"/usersWebApp/new-user\">\n          <NewUser />\n        </Route>\n        <Route path=\"/usersWebApp/usersWebApp\" exact>\n          <Redirect to=\"/usersWebApp/users\" />\n        </Route>\n        <Route path=\"*\">\n          <NotFound />\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"UserDetails_details__1VsOj\",\"flex\":\"UserDetails_flex__24Thi\",\"btnField\":\"UserDetails_btnField__3n78W\",\"detailsBtn\":\"UserDetails_detailsBtn__P5vyk\",\"passwordInput\":\"UserDetails_passwordInput__1cGp8\",\"error_box\":\"UserDetails_error_box__1k1Pz\",\"error_title\":\"UserDetails_error_title__1TUSU\",\"error_message\":\"UserDetails_error_message__3fL2j\"};"],"sourceRoot":""}